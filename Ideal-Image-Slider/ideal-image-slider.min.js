var IdealImageSlider=(function(){var p=function(v,u){return v["r"+u]||v["webkitR"+u]||v["mozR"+u]||v["msR"+u]||function(t){setTimeout(t,1000/60)}}(window,"equestAnimationFrame");var a=function(w,v){var x=new Date().getTime(),t={};function u(){var y=new Date().getTime(),z=y-x;if(z>=v){w.call()}else{t.value=p(u)}}t.value=p(u);return t};var k=function(u,v){var t=Object.prototype.toString.call(v).slice(8,-1);return v!==undefined&&v!==null&&t===u};var i=function(t){return Math.round(t)===t};var e=function(t){t=t||{};for(var v=1;v<arguments.length;v++){var w=arguments[v];if(!w){continue}for(var u in w){if(w.hasOwnProperty(u)){if(k("Object",w[u])&&w[u]!==null){e(t[u],w[u])}else{t[u]=w[u]}}}}return t};var h=function(u,t){if(!t){return false}if(u.classList){return u.classList.contains(t)}else{return new RegExp("(^| )"+t+"( |$)","gi").test(u.className)}};var q=function(u,t){if(!t){return}if(u.classList){u.classList.add(t)}else{u.className+=" "+t}};var c=function(u,t){if(!t){return}if(u.classList){u.classList.remove(t)}else{u.className=u.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}};var d=function(t){return Array.prototype.slice.call(t)};var b=function(w,v,u){var t=w.slice((u||v)+1||w.length);w.length=v<0?w.length+v:v;return w.push.apply(w,t)};var m=function(t,u,v){if(t===null||typeof(t)==="undefined"){return}if(t.addEventListener){t.addEventListener(u,v,false)}else{if(t.attachEvent){t.attachEvent("on"+u,v)}else{t["on"+u]=v}}};var r=function(t,v){if(!t.style.backgroundImage){var u=new Image();u.setAttribute("src",t.getAttribute("data-src"));u.onload=function(){t.style.backgroundImage="url("+t.getAttribute("data-src")+")";t.setAttribute("data-actual-width",this.naturalWidth);t.setAttribute("data-actual-height",this.naturalHeight);if(typeof(v)==="function"){v(this)}}}};var g=function(){var t="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)";if(window.devicePixelRatio>1){return true}if(window.matchMedia&&window.matchMedia(t).matches){return true}return false};var n=function(t,v,u){t.style.webkitTransitionDuration=t.style.MozTransitionDuration=t.style.msTransitionDuration=t.style.OTransitionDuration=t.style.transitionDuration=u+"ms";t.style.webkitTransform=t.style.MozTransform=t.style.msTransform=t.style.OTransform="translateX("+v+"px)"};var f=function(t){t.style.removeProperty("-webkit-transition-duration");t.style.removeProperty("transition-duration");t.style.removeProperty("-webkit-transform");t.style.removeProperty("-ms-transform");t.style.removeProperty("transform")};var o=function(v){var w=v.time,t=+new Date()+w;var u=function(){var z=+new Date(),y=t-z;if(y<60){v.run(1);return}else{var x=1-y/w;v.run(x)}p(u)};u()};var j=function(u,v){if(typeof v==="undefined"){v=true}if(i(u.settings.height)){return}var z=Math.round(u._attributes.container.offsetHeight),x=z;if(u._attributes.aspectWidth&&u._attributes.aspectHeight){x=(u._attributes.aspectHeight/u._attributes.aspectWidth)*u._attributes.container.offsetWidth}else{var w=u._attributes.currentSlide.getAttribute("data-actual-width");var y=u._attributes.currentSlide.getAttribute("data-actual-height");if(w&&y){x=(y/w)*u._attributes.container.offsetWidth}}var t=parseInt(u.settings.maxHeight,10);if(t&&x>t){x=t}x=Math.round(x);if(x===z){return}if(v){o({time:u.settings.transitionDuration,run:function(A){u._attributes.container.style.height=Math.round(A*(x-z)+z)+"px"}})}else{u._attributes.container.style.height=x+"px"}};var l={vars:{start:{},delta:{},isScrolling:undefined,direction:null},start:function(t){if(h(this._attributes.container,this.settings.classes.animating)){return}var u=t.touches[0];l.vars.start={x:u.pageX,y:u.pageY,time:+new Date()};l.vars.delta={};l.vars.isScrolling=undefined;l.vars.direction=null;this.stop();this.settings.beforeChange.apply(this);q(this._attributes.container,this.settings.classes.touching)},move:function(t){if(h(this._attributes.container,this.settings.classes.animating)){return}if(t.touches.length>1||t.scale&&t.scale!==1){return}var u=t.touches[0];l.vars.delta={x:u.pageX-l.vars.start.x,y:u.pageY-l.vars.start.y};if(typeof l.vars.isScrolling=="undefined"){l.vars.isScrolling=!!(l.vars.isScrolling||Math.abs(l.vars.delta.x)<Math.abs(l.vars.delta.y))}if(!l.vars.isScrolling){t.preventDefault();n(this._attributes.previousSlide,l.vars.delta.x-this._attributes.previousSlide.offsetWidth,0);n(this._attributes.currentSlide,l.vars.delta.x,0);n(this._attributes.nextSlide,l.vars.delta.x+this._attributes.currentSlide.offsetWidth,0)}},end:function(u){if(h(this._attributes.container,this.settings.classes.animating)){return}var x=+new Date()-l.vars.start.time;var t=Number(x)<250&&Math.abs(l.vars.delta.x)>20||Math.abs(l.vars.delta.x)>this._attributes.currentSlide.offsetWidth/2;var w=l.vars.delta.x<0?"next":"previous";var v=this.settings.transitionDuration?this.settings.transitionDuration/2:0;if(!l.vars.isScrolling){if(t){l.vars.direction=w;if(l.vars.direction=="next"){n(this._attributes.currentSlide,-this._attributes.currentSlide.offsetWidth,v);n(this._attributes.nextSlide,0,v)}else{n(this._attributes.previousSlide,0,v);n(this._attributes.currentSlide,this._attributes.currentSlide.offsetWidth,v)}a(l.transitionEnd.bind(this),v)}else{if(w=="next"){n(this._attributes.currentSlide,0,v);n(this._attributes.nextSlide,this._attributes.currentSlide.offsetWidth,v)}else{n(this._attributes.previousSlide,-this._attributes.previousSlide.offsetWidth,v);n(this._attributes.currentSlide,0,v)}}if(v){q(this._attributes.container,this.settings.classes.animating);a(function(){c(this._attributes.container,this.settings.classes.animating)}.bind(this),v)}}},transitionEnd:function(v){if(l.vars.direction){f(this._attributes.previousSlide);f(this._attributes.currentSlide);f(this._attributes.nextSlide);c(this._attributes.container,this.settings.classes.touching);c(this._attributes.previousSlide,this.settings.classes.previousSlide);c(this._attributes.currentSlide,this.settings.classes.currentSlide);c(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","true");var t=this._attributes.slides,u=t.indexOf(this._attributes.currentSlide);if(l.vars.direction=="next"){this._attributes.previousSlide=this._attributes.currentSlide;this._attributes.currentSlide=t[u+1];this._attributes.nextSlide=t[u+2];if(typeof this._attributes.currentSlide==="undefined"&&typeof this._attributes.nextSlide==="undefined"){this._attributes.currentSlide=t[0];this._attributes.nextSlide=t[1]}else{if(typeof this._attributes.nextSlide==="undefined"){this._attributes.nextSlide=t[0]}}r(this._attributes.nextSlide)}else{this._attributes.nextSlide=this._attributes.currentSlide;this._attributes.previousSlide=t[u-2];this._attributes.currentSlide=t[u-1];if(typeof this._attributes.currentSlide==="undefined"&&typeof this._attributes.previousSlide==="undefined"){this._attributes.currentSlide=t[t.length-1];this._attributes.previousSlide=t[t.length-2]}else{if(typeof this._attributes.previousSlide==="undefined"){this._attributes.previousSlide=t[t.length-1]}}r(this._attributes.previousSlide)}q(this._attributes.previousSlide,this.settings.classes.previousSlide);q(this._attributes.currentSlide,this.settings.classes.currentSlide);q(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","false");j(this);this.settings.afterChange.apply(this)}}};var s=function(x){this.settings={selector:"",height:"auto",initialHeight:400,maxHeight:null,interval:4000,transitionDuration:700,effect:"slide",disableNav:false,keyboardNav:true,previousNavSelector:"",nextNavSelector:"",classes:{container:"ideal-image-slider",slide:"iis-slide",previousSlide:"iis-previous-slide",currentSlide:"iis-current-slide",nextSlide:"iis-next-slide",previousNav:"iis-previous-nav",nextNav:"iis-next-nav",animating:"iis-is-animating",touchEnabled:"iis-touch-enabled",touching:"iis-is-touching",directionPrevious:"iis-direction-previous",directionNext:"iis-direction-next"},onInit:function(){},onStart:function(){},onStop:function(){},onDestroy:function(){},beforeChange:function(){},afterChange:function(){}};if(typeof x==="string"){this.settings.selector=x}else{if(typeof x==="object"){e(this.settings,x)}}var v=document.querySelector(this.settings.selector);if(!v){return null}var A=d(v.children),u=[];v.innerHTML="";Array.prototype.forEach.call(A,function(B,E){var F=B.getAttribute("href");if(A.length<=1&&F!==""){m(B,"click",function(){window.location.href=F})}if(B instanceof HTMLImageElement||B instanceof HTMLAnchorElement){var G=document.createElement("a"),D=F,H="";if(B instanceof HTMLAnchorElement){D=B.getAttribute("href");H=B.getAttribute("target");var C=B.querySelector("img");if(C!==null){B=C}else{return}}if(typeof B.dataset!=="undefined"){e(G.dataset,B.dataset);if(B.dataset.src){G.dataset.src=B.dataset.src}else{G.dataset.src=B.src}if(g()&&B.dataset["src-2x"]){G.dataset.src=B.dataset["src-2x"]}}else{if(B.getAttribute("data-src")){G.setAttribute("data-src",B.getAttribute("data-src"))}else{G.setAttribute("data-src",B.getAttribute("src"))}}if(D){G.setAttribute("href",D)}if(H){G.setAttribute("target",H)}if(B.getAttribute("className")){q(G,B.getAttribute("className"))}if(B.getAttribute("id")){G.setAttribute("id",B.getAttribute("id"))}if(B.getAttribute("title")){G.setAttribute("title",B.getAttribute("title"))}if(B.getAttribute("alt")){G.innerHTML=B.getAttribute("alt")}G.setAttribute("role","tabpanel");G.setAttribute("aria-hidden","true");G.style.cssText+="-webkit-transition-duration:"+this.settings.transitionDuration+"ms;-moz-transition-duration:"+this.settings.transitionDuration+"ms;-o-transition-duration:"+this.settings.transitionDuration+"ms;transition-duration:"+this.settings.transitionDuration+"ms;";v.appendChild(G);u.push(G)}}.bind(this));var w=u;if(w.length<=1){v.innerHTML="";Array.prototype.forEach.call(A,function(C,B){v.appendChild(C)});return null}if(!this.settings.disableNav){var z,y;if(this.settings.previousNavSelector){z=document.querySelector(this.settings.previousNavSelector)}else{z=document.createElement("a");v.appendChild(z)}if(this.settings.nextNavSelector){y=document.querySelector(this.settings.nextNavSelector)}else{y=document.createElement("a");v.appendChild(y)}q(z,this.settings.classes.previousNav);q(y,this.settings.classes.nextNav);m(z,"click",function(){if(h(this._attributes.container,this.settings.classes.animating)){return false}this.stop();this.previousSlide()}.bind(this));m(y,"click",function(){if(h(this._attributes.container,this.settings.classes.animating)){return false}this.stop();this.nextSlide()}.bind(this));if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){this.settings.effect="slide";z.style.display="none";y.style.display="none";q(v,this.settings.classes.touchEnabled);m(v,"touchstart",l.start.bind(this),false);m(v,"touchmove",l.move.bind(this),false);m(v,"touchend",l.end.bind(this),false)}if(this.settings.keyboardNav){m(document,"keyup",function(C){C=C||window.event;var B=(typeof C.which=="number")?C.which:C.keyCode;if(B==37){if(h(this._attributes.container,this.settings.classes.animating)){return false}this.stop();this.previousSlide()}else{if(B==39){if(h(this._attributes.container,this.settings.classes.animating)){return false}this.stop();this.nextSlide()}}}.bind(this))}y.style.display="block";z.style.display="block"}this._attributes={container:v,slides:w,previousSlide:typeof w[w.length-1]!=="undefined"?w[w.length-1]:w[0],currentSlide:w[0],nextSlide:typeof w[1]!=="undefined"?w[1]:w[0],timerId:0,origChildren:A,aspectWidth:0,aspectHeight:0};if(i(this.settings.height)){this._attributes.container.style.height=this.settings.height+"px"}else{if(i(this.settings.initialHeight)){this._attributes.container.style.height=this.settings.initialHeight+"px"}if(this.settings.height.indexOf(":")>-1){var t=this.settings.height.split(":");if(t.length==2&&i(parseInt(t[0],10))&&i(parseInt(t[1],10))){this._attributes.aspectWidth=parseInt(t[0],10);this._attributes.aspectHeight=parseInt(t[1],10)}}m(window,"resize",function(){j(this,false)}.bind(this))}q(v,this.settings.classes.container);q(v,"iis-effect-"+this.settings.effect);Array.prototype.forEach.call(this._attributes.slides,function(B,C){q(B,this.settings.classes.slide)}.bind(this));q(this._attributes.previousSlide,this.settings.classes.previousSlide);q(this._attributes.currentSlide,this.settings.classes.currentSlide);q(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","false");r(this._attributes.currentSlide,(function(){this.settings.onInit.apply(this);j(this,false)}).bind(this));r(this._attributes.previousSlide);r(this._attributes.nextSlide)};s.prototype.get=function(t){if(!this._attributes){return null}if(this._attributes.hasOwnProperty(t)){return this._attributes[t]}};s.prototype.set=function(t,u){if(!this._attributes){return null}return(this._attributes[t]=u)};s.prototype.start=function(){if(!this._attributes){return}this._attributes.timerId=setInterval(this.nextSlide.bind(this),this.settings.interval);this.settings.onStart.apply(this);window.onblur=function(){this.stop()}.bind(this)};s.prototype.stop=function(){if(!this._attributes){return}clearInterval(this._attributes.timerId);this._attributes.timerId=0;this.settings.onStop.apply(this)};s.prototype.previousSlide=function(){this.settings.beforeChange.apply(this);c(this._attributes.previousSlide,this.settings.classes.previousSlide);c(this._attributes.currentSlide,this.settings.classes.currentSlide);c(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","true");var t=this._attributes.slides,u=t.indexOf(this._attributes.currentSlide);this._attributes.nextSlide=this._attributes.currentSlide;this._attributes.previousSlide=t[u-2];this._attributes.currentSlide=t[u-1];if(typeof this._attributes.currentSlide==="undefined"&&typeof this._attributes.previousSlide==="undefined"){this._attributes.currentSlide=t[t.length-1];this._attributes.previousSlide=t[t.length-2]}else{if(typeof this._attributes.previousSlide==="undefined"){this._attributes.previousSlide=t[t.length-1]}}r(this._attributes.previousSlide);q(this._attributes.previousSlide,this.settings.classes.previousSlide);q(this._attributes.currentSlide,this.settings.classes.currentSlide);q(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","false");q(this._attributes.container,this.settings.classes.directionPrevious);a(function(){c(this._attributes.container,this.settings.classes.directionPrevious)}.bind(this),this.settings.transitionDuration);if(this.settings.transitionDuration){q(this._attributes.container,this.settings.classes.animating);a(function(){c(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)}j(this);this.settings.afterChange.apply(this)};s.prototype.nextSlide=function(){this.settings.beforeChange.apply(this);c(this._attributes.previousSlide,this.settings.classes.previousSlide);c(this._attributes.currentSlide,this.settings.classes.currentSlide);c(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","true");var t=this._attributes.slides,u=t.indexOf(this._attributes.currentSlide);this._attributes.previousSlide=this._attributes.currentSlide;this._attributes.currentSlide=t[u+1];this._attributes.nextSlide=t[u+2];if(typeof this._attributes.currentSlide==="undefined"&&typeof this._attributes.nextSlide==="undefined"){this._attributes.currentSlide=t[0];this._attributes.nextSlide=t[1]}else{if(typeof this._attributes.nextSlide==="undefined"){this._attributes.nextSlide=t[0]}}r(this._attributes.nextSlide);q(this._attributes.previousSlide,this.settings.classes.previousSlide);q(this._attributes.currentSlide,this.settings.classes.currentSlide);q(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","false");q(this._attributes.container,this.settings.classes.directionNext);a(function(){c(this._attributes.container,this.settings.classes.directionNext)}.bind(this),this.settings.transitionDuration);if(this.settings.transitionDuration){q(this._attributes.container,this.settings.classes.animating);a(function(){c(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)}j(this);this.settings.afterChange.apply(this)};s.prototype.gotoSlide=function(u){this.settings.beforeChange.apply(this);this.stop();c(this._attributes.previousSlide,this.settings.classes.previousSlide);c(this._attributes.currentSlide,this.settings.classes.currentSlide);c(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","true");u--;var t=this._attributes.slides,v=t.indexOf(this._attributes.currentSlide);this._attributes.previousSlide=t[u-1];this._attributes.currentSlide=t[u];this._attributes.nextSlide=t[u+1];if(typeof this._attributes.previousSlide==="undefined"){this._attributes.previousSlide=t[t.length-1]}if(typeof this._attributes.nextSlide==="undefined"){this._attributes.nextSlide=t[0]}r(this._attributes.previousSlide);r(this._attributes.currentSlide);r(this._attributes.nextSlide);q(this._attributes.previousSlide,this.settings.classes.previousSlide);q(this._attributes.currentSlide,this.settings.classes.currentSlide);q(this._attributes.nextSlide,this.settings.classes.nextSlide);this._attributes.currentSlide.setAttribute("aria-hidden","false");if(u<v){q(this._attributes.container,this.settings.classes.directionPrevious);a(function(){c(this._attributes.container,this.settings.classes.directionPrevious)}.bind(this),this.settings.transitionDuration)}else{q(this._attributes.container,this.settings.classes.directionNext);a(function(){c(this._attributes.container,this.settings.classes.directionNext)}.bind(this),this.settings.transitionDuration)}if(this.settings.transitionDuration){q(this._attributes.container,this.settings.classes.animating);a(function(){c(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)}j(this);this.settings.afterChange.apply(this)};s.prototype.destroy=function(){clearInterval(this._attributes.timerId);this._attributes.timerId=0;this._attributes.container.innerHTML="";Array.prototype.forEach.call(this._attributes.origChildren,function(u,t){this._attributes.container.appendChild(u)}.bind(this));c(this._attributes.container,this.settings.classes.container);c(this._attributes.container,"iis-effect-"+this.settings.effect);this._attributes.container.style.height="";this.settings.onDestroy.apply(this)};return{_hasClass:h,_addClass:q,_removeClass:c,Slider:s}})();(function(a){var b=function(d,e){var c=d._attributes.bulletNav.querySelectorAll("a");if(!c){return}Array.prototype.forEach.call(c,function(g,f){a._removeClass(g,"iis-bullet-active");g.setAttribute("aria-selected","false");if(f===e){a._addClass(g,"iis-bullet-active");g.setAttribute("aria-selected","true")}}.bind(this))};a.Slider.prototype.addBulletNav=function(){if(this._attributes){a._addClass(this._attributes.container,"iis-has-bullet-nav");var e=document.createElement("div");a._addClass(e,"iis-bullet-nav");e.setAttribute("role","tablist");Array.prototype.forEach.call(this._attributes.slides,function(f,g){var h=document.createElement("a");h.innerHTML=g+1;h.setAttribute("role","tab");h.addEventListener("click",function(){if(a._hasClass(this._attributes.container,this.settings.classes.animating)){return false}this.stop();this.gotoSlide(g+1)}.bind(this));e.appendChild(h)}.bind(this));this._attributes.bulletNav=e;this._attributes.container.appendChild(e);b(this,0);var d=this.settings.afterChange;var c=function(){var f=this._attributes.slides,g=f.indexOf(this._attributes.currentSlide);b(this,g);return d()}.bind(this);this.settings.afterChange=c}};return a})(IdealImageSlider);